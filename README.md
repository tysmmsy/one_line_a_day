# アプリケーション名
one line a day (一行日記)

## アプリケーション概要
・アプリ内容：  
たった一行からはじめる、日記アプリ

・アプリを作ろうと思った背景・理由：  
日記を通した効果は昔から科学的にも説かれています。  
引用となりますが、  

「脳の活性化、文章力の向上、成長の促進、習慣形成、自律神経の安定、ストレス解消の効果」  

僕は昔から何度も日記をつけようとして挫折してきた経験があります。  
しかしアプリケーションを使うことで習慣化できるようになりました。  
その理由として2つあります。  

1,手軽さ  
2,継続からくる面白さ  

まず手軽でなければダメでした。  
物理的なノートも大好きですし、昔から文房具はメーカーをこだわるまで好きです。  
しかし物理的な日記となるとタスクの重さを勝手に感じてしまい継続できませんでした。  
そこで気軽に書けるアプリケーションの存在は大きかったです。  
どこでも書けて、一覧性も高い。また複数のテーマで日記を分けることが継続に繋がりました。  
そして継続できたからこそ分かる面白さもあります。  
書いた当時の感情や考え方を見返すことで冒頭の効果を徐々に感じるようになります。  
過去を見返して、未来を見通す習慣がつくようになりました。  
加えて

3,見た目、使い心地にこだわる  

も要素に追加します。  
継続的に使うためにはUI/UXも考慮する必要があると考えています。
このアプリをきっかけに、日常を記録して人生を豊かにする手助けになれたらと思います。  

## URL  
https://one-line-a-day-28102.herokuapp.com/

## ユーザー認証  
ユーザー名: admin  
パスワード: 2222  

## テスト用アカウント  
・テストアカウント1  
Email: test@test.com  
Password: aaa111  
・テストアカウント2  
Email: test2@test.com  
Password: aaa111  

## 利用方法、機能紹介
・はじめに  
nickname,email,passwordを入力し、アカウント登録を済ませるとメインビューに遷移します。  
上記のテスト用アカウントのEmail、Passwordを使用してログインすることも可能です。  

・日記の投稿の仕方  
メインビュー下部にテキストボックスを配置していますので、日付と投稿内容が入力できたら右下に設置してあるwriteボタンを押して投稿を完了します。  
確認用GIF: https://gyazo.com/8005e403d0ab0e6b1324be3d726f61a0  
投稿フォーム右上のjournal欄は日記のテーマのようなもので、入力しなくても日記は投稿できるようになっています。(日付と内容は入力が必須です)  
確認用GIF: https://gyazo.com/feb4d1b1b47c605fef453b5dc44c7135  

・journalについて  
journal欄に入力された値は左側のサイドバーに表示されます。  
この値をクリックするとjournalに紐付いた投稿内容が右側のメインビューに表示されます。  
確認用GIF: https://gyazo.com/7ebd02b8b194456d1a8d5bddc29e6f87

・削除機能
メインビューの投稿にカーソルをホバーするとdeleteボタンが右に出ますのでクリックすると投稿、ジャーナルが削除されます  
確認用GIF: https://gyazo.com/02ddc0cf0acdb2b4f97adf4f3ba5e0af

・検索機能  
左上のsearchボックスからキーワード検索、日付検索(年月日で検索する場合は - で2020-10のように繋げて入力)ができます。  
何も入力せずにsearchボタンをクリックするとサイドバー、メインビューに全投稿が表示されます。  
確認用GIF: https://gyazo.com/ac16d5017c16d53afa2ca88f5f2538c7  

## 目指した課題解決
・日記の良さは分かっているが、続けることが出来ない  
・日記をつけようとして幾度も挫折したことがある  
そういう経験のある方に継続の手助けがしたい

## 洗い出した要件 
| 機能 | 目的 | 詳細 | ユースケース |
| ------ | --- | -----| ---------- |
| ユーザー管理機能   | ユーザー情報を管理する | deviseを用いてユーザー情報を管理する | ・ユーザーの登録をnickname, email, passwordで登録することができる |
| 日記の投稿機能   | 日記を投稿できるようにする | 投稿した日記をデータベースに登録できるようにする | ・日記投稿フォームに文章を入力し、投稿ボタンを押すことで日記を作成できる |
| 日記の削除機能   | 日記を削除できるようにする | 投稿した日記を削除できるようにする| ・日記一覧から削除ボタンを押すことで削除することができる |
| 日記の日付を変更できる機能   | 投稿フォーム上部にカレンダーを設置し、投稿とリンクするようにする | 投稿する日記に日付をつけることができる | ・投稿フォーム上部から日付を入力、選択できる |
| JavaScriptで画面遷移の表現を変える   | UI、UXの価値を高める | 日記の投稿や一覧表示の際に専用のUIを与える | ・日記を投稿した際に文字が浮かび上がるような演出をする |
| 検索機能   | キーワードで日記を検索できるようにする | 投稿した日記を検索できるようにする | ・特定のキーワード、またはタグで検索することで過去の日記を素早く見返すことができる |
| タグ付け機能   | 日記にテーマを付けられるようにする | 日記にテーマをつけることで検索性、一覧性を高める | ・日記にテーマをつけ、サイドバーから紐付いた投稿を表示することができる |
| レスポンシブデザインに変更(調整予定) | スマホUIに対応する | ブラウザの大きさに応じたUIの変化を加える | ・スマホユーザーの数を考慮 |

## 実装予定の機能
| 機能 | 目的 | 詳細 | ユースケース |
| ------ | --- | -----| ---------- |
| 日記、タグの編集機能  | 日記、タグを編集できるようにする | 投稿した日記、保存したタグを編集、保存をできるようにする | ・日記一覧から編集ボタンを押すことで内容を編集し、保存することができる |
| AJAX通信の導入  | パフォーマンス向上のため | 日記を投稿した際に投稿ページを再レンダリングすることなく日記が投稿される | ・日記の数が多くなった時にデータベースとのやり取りが多くなりパフォーマンスの低下が懸念されるので、それを解消する |
|SNS認証  | ユーザーアカウント登録方法の選択肢を増やす | SNSアカウント（Googleアカウン、Facebookアカウント）を利用したログイン方法を選択肢として追加する | ・ユーザーアカウントの登録方法を「手打ち入力」「Googleアカウントを利用」「Facebookアカウントを利用」の3つから選べるようにする  ・SNSアカウントを選択した場合、既にパスワードは入力されてる状態で表示される  |
| お気に入り機能  | 日記をお気に入りできるようにする | タグとは別に固有のマークをつけ、お気に入りできるようにする | ・特定の日記をお気に入りにすることで記念日や特別な日を分かるようにする |
| 画像投稿機能  | 日記に画像を投稿できるようする | 画像ファイルも投稿できるようにする | ・日記と画像を一緒に保存することで記録性を高める |

## データベース設計
テーブル設計を下に記載

## 開発環境、各種バージョン、Gemとローカルでの動作方法  
2020年9月9日時点  
MacOS: 10.15.6  
ruby:  2.6.5p114 (2019-10-01 revision 67812) [x86_64-darwin19]  
Rails: 6.0.3.2  
Homebrew 2.4.10  
rbenv: 1.1.2  

追加したgem  
gem 'devise'  
gem 'pry-rails'  
gem 'rspec-rails  
gem 'factory_bot_rails  
gem 'faker'  
gem 'rails_12factor'  

以下ローカル動作までのコマンドです  
% git clone https://git.heroku.com/one-line-a-day-28102.git  
% bundle install  
% yarn install  
% rails db:create  
% rails db:migrate  
% rails s  
の後にlocalhostにアクセスお願いします。


# テーブル設計

## ER図
![](https://i.gyazo.com/fae3263b2a999c3b0ce76b5fe7f443bd.png)

## users テーブル

| Column            | Type   | Options                   |
| ----------------- | ------ | ------------------------- |
| name              | string | null: false               |
| email             | string | null: false, unique: true |
| password          | string | null: false               |

### Association

- has_many :diaries

## diaries テーブル

| Column            | Type     | Options     |
| ----------------- | -------- | ----------- |
| content           | text     | null: false |
| datetime          | datetime |             |

### Association

- has_many :diary_tag_relations
- has_many :tags, through: :diary_tag_relations
- belongs_to :user

## tags テーブル

| Column            | Type     | Options          |
| ----------------- | -------- | ---------------- |
| name              | string   | uniqueness: true |

### Association

- has_many :diary_tag_relations
- has_many :diaries, :through: :diary_tag_relations

## diary_tag_relation テーブル

| Column   | Type         | Options           |
| -------- | ------------ | ----------------- |
| diary    | references   | foreign_key: true |
| tag      | references   | foreign_key: true |
